---
title: "Publications Test"
date: '2020-06-25T00:00:00Z'
reading_time: no
output:
  md_document:
    variant: markdown_strict
    preserve_yaml: true
profile: no
comments: no
share: no
---

```{r setup, include = FALSE}

# Load packages
library(tidyverse)
library(here)

# Load cv data  
my_data <- read_csv(here("static", "data", "pubs.csv"))

years <- unique(my_data$year)

```


```{r publications, echo = FALSE, results = "asis"}
for(year in years){
  cat(paste("\n","## ",year,sep=""))
  thisyear <- my_data[my_data$year == year,]
  if(dim(thisyear)[1] > 0){
    cat("\n<ul>")
    for(i in 1:(dim(thisyear)[1])){
      cat(paste("\n<li>",sep = ""))
      cat(paste(thisyear$content[i]))
      
  
      if(!is.na(thisyear$pdf[i])){
        cat(" | <a href=\"",thisyear$pdf[i],"\">PDF</a>")  
      }
      
      if(!is.na(thisyear$code[i])){
        cat(" | <a href=\"",thisyear$code[i],"\">Code</a>")  
      }
      
      if(!is.na(thisyear$data[i])){
        cat(" | <a href=\"",thisyear$data[i],"\">Data</a>")  
      }
     
    }
    cat("\n</ul>")
  }
}
```
